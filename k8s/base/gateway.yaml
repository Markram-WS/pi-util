apiVersion: gateway.networking.k8s.io/v1beta1
kind: Gateway
metadata:
  name: central-gateway
  namespace: default
spec:
  gatewayClassName: central-gateway-class  # Specify the gateway class (replace with your gateway controller's class)
  listeners:
  - name: argocd-listener  # Unique name for this listener
    hostname: argocd.pi
    port: 80
    protocol: HTTP
  - name: postgres-listener  # Unique name for this listener
    hostname: postgres.pi
    port: 5432
    protocol: HTTP
#---
# apiVersion: gateway.networking.k8s.io/v1beta1
# kind: HTTPRoute
# metadata:
#   name: app2-route
#   namespace: app2
# spec:
#   parentRefs:
#   - name: shared-gateway
#     namespace: gateway-central
#   rules:
#   - matches:
#     - path:
#         type: Prefix
#         value: / # เส้นทางที่กำหนดสำหรับ App2
#     backendRefs:
#     - name: app2-service
#       namespace: app2
#       port: 80 # Port ภายใน Service ของ App2


